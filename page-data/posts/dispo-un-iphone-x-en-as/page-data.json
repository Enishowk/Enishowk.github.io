{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/dispo-un-iphone-x-en-as","result":{"data":{"markdownRemark":{"id":"0a7de292-d6b7-533d-a33a-6a33d598b274","html":"<p>Plutôt que de guetter le site toute la journée, on peut simplement faire tourner un script qui fera l’appel à notre place. </p>\n<p>Voici un exemple de function :</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">apple</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    axios<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"https://www.apple.com/fr/shop/retail/pickup-message?pl=true&amp;parts.0=MQAD2ZD/A&amp;location=75000\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n        response<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span>stores<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">store</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>store<span class=\"token punctuation\">.</span>partsAvailability<span class=\"token punctuation\">[</span><span class=\"token string\">\"MQAD2ZD/A\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">.</span>storeSelectionEnabled<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">// Envoie de mail, notif, bot</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>Il suffit juste de remplacer le code postal par le vôtre, ainsi que le modèle de l’iPhone voulu (dans l’URL et le code) par un de ceux-ci :</p>\n<ul>\n<li>Noir 64Go : <strong>MQAC2ZD/A</strong></li>\n<li>Noir 128Go : <strong>MQAF2ZD/A</strong></li>\n<li>Blanc 64Go : <strong>MQAD2ZD/A</strong></li>\n<li>Blanc 128Go : <strong>MQAG2ZD/A</strong></li>\n</ul>\n<p>Cette fonction peut être utilisée via un Bot sous Discord, qui l’éxécute toutes les 5 secondes par exemple. Dès lors que le site affiche des dispos, vous serez notifié en MP directement.</p>\n<p>À vous de l’adapter selon votre cas.</p>","fields":{"slug":"/posts/dispo-un-iphone-x-en-as","tagSlugs":["/tag/dev/","/tag/apple/"]},"frontmatter":{"date":"2017-11-13","description":"L'iPhone X est sorti le 3 novembre, et pourtant, encore aujourd'hui, il est en rupture partout. Néanmoins, certain Apple Store reçoivent quotidiennement du stock. Il faut donc être très rapide pour arriver à en commander un.","tags":["Dev","Apple"],"title":"Disponibilité d'un iPhone X en AS"}}},"pageContext":{"slug":"/posts/dispo-un-iphone-x-en-as"}},"staticQueryHashes":["1307906156","251939775","401334301"]}